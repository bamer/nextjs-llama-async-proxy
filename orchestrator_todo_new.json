{
  "pipelineId": "p-2026-01-01-002",
  "mission": "Achieve and maintain 98% test coverage across Next.js 16 + React 19 Llama Async Proxy repository with all tests passing, documentation updated, and codebase cleaned",
  "status": "IN_PROGRESS",
  "tasks": [
    {
      "taskId": "T-001",
      "role": "reviewer",
      "description": "Analyze current test coverage and identify gaps for 98% target",
      "filesAffected": [
        "coverage/"
      ],
      "inputs": {
        "targetCoverage": "98%",
        "currentStatus": "Server running, database fixed"
      },
      "successCriteria": [
        "Generate coverage analysis report",
        "Identify files below 98% coverage",
        "Identify untested source files",
        "Create prioritized list of missing tests"
      ],
      "dependsOn": [],
      "timeoutSeconds": 300,
      "priority": "critical",
      "status": "DONE"
    },
    {
      "taskId": "T-002",
      "role": "coder-agent",
      "description": "Write missing unit tests for database layer to reach 98% coverage",
      "filesAffected": [
        "src/lib/database/connection-pool.ts",
        "src/lib/database/query-helpers.ts",
        "src/lib/database/database.types.ts",
        "src/lib/database/models-service.ts"
      ],
      "inputs": {
        "targetCoverage": "98%",
        "testPatterns": [
          "CRUD operations",
          "metadata functions",
          "import/export",
          "edge cases"
        ]
      },
      "successCriteria": [
        "All database functions have test coverage >= 98%",
        "Tests cover edge cases (null, empty, errors)",
        "Tests follow Jest patterns (describe/it/beforeEach)",
        "pnpm test passes for database module",
        "Tests are in __tests__/lib/database/ directory"
      ],
      "dependsOn": [
        "T-001"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "DONE"
    },
    {
      "taskId": "T-003",
      "role": "coder-agent",
      "description": "Write missing unit tests for hooks to reach 98% coverage",
      "filesAffected": [
        "src/hooks/use-api.ts",
        "src/hooks/use-websocket.ts",
        "src/hooks/useDebouncedState.ts",
        "src/hooks/useDashboardData.ts",
        "src/hooks/useSystemMetrics.ts"
      ],
      "inputs": {
        "targetCoverage": "98%",
        "testPatterns": [
          "custom hooks",
          "mock dependencies",
          "async operations",
          "state management"
        ]
      },
      "successCriteria": [
        "All hooks have test coverage >= 98%",
        "Tests cover all hook states (loading, error, success)",
        "Tests follow React Testing Library patterns",
        "pnpm test passes for hooks module",
        "Tests are in __tests__/hooks/ directory"
      ],
      "dependsOn": [
        "T-001"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "IN_PROGRESS"
    },
    {
      "taskId": "T-004",
      "role": "coder-agent",
      "description": "Write missing unit tests for service layer to reach 98% coverage",
      "filesAffected": [
        "src/services/api-service.ts",
        "src/server/services/LlamaServerIntegration.ts"
      ],
      "inputs": {
        "targetCoverage": "98%",
        "testPatterns": [
          "API calls",
          "WebSocket messages",
          "error handling",
          "retries"
        ]
      },
      "successCriteria": [
        "All service methods have test coverage >= 98%",
        "Tests cover API failures and retries",
        "Tests verify WebSocket message handling",
        "pnpm test passes for services module",
        "Tests are in __tests__/services/ and __tests__/lib/ directory"
      ],
      "dependsOn": [
        "T-001"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "IN_PROGRESS"
    },
    {
      "taskId": "T-005",
      "role": "coder-agent",
      "description": "Write missing unit tests for UI components to reach 98% coverage",
      "filesAffected": [
        "src/components/ui/ThemeToggle.tsx",
        "src/components/ui/error-boundary.tsx",
        "src/components/ui/ModelConfigDialog/*.tsx",
        "src/components/dashboard/*.tsx"
      ],
      "inputs": {
        "targetCoverage": "98%",
        "testPatterns": [
          "component rendering",
          "user interactions",
          "state changes",
          "MUI v8 compliance"
        ]
      },
      "successCriteria": [
        "All components have test coverage >= 98%",
        "Tests use React Testing Library",
        "Tests cover all props and interactions",
        "pnpm test passes for UI components module",
        "Tests follow AGENTS.md guidelines (Grid uses size prop)",
        "Tests are in __tests__/components/ directory"
      ],
      "dependsOn": [
        "T-001"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "IN_PROGRESS"
    },
    {
      "taskId": "T-006",
      "role": "tester",
      "description": "Run full test suite and generate coverage report",
      "filesAffected": [
        "coverage/"
      ],
      "inputs": {
        "command": "pnpm test:coverage",
        "targetCoverage": "98%"
      },
      "successCriteria": [
        "All tests pass",
        "Coverage >= 98%",
        "Coverage report generated successfully",
        "No critical test failures"
      ],
      "dependsOn": [
        "T-002",
        "T-003",
        "T-004",
        "T-005"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "PENDING"
    },
    {
      "taskId": "T-007",
      "role": "reviewer",
      "description": "Review all new tests for code quality and AGENTS.md compliance",
      "filesAffected": [
        "__tests__/lib/database/*.test.ts",
        "__tests__/hooks/*.test.ts",
        "__tests__/services/*.test.ts",
        "__tests__/components/**/*.test.tsx"
      ],
      "inputs": {
        "standards": [
          "AGENTS.md",
          "Jest best practices",
          "TypeScript strict mode",
          "MUI v8 rules"
        ]
      },
      "successCriteria": [
        "Code follows AGENTS.md guidelines",
        "No 'any' types used",
        "Proper TypeScript typing",
        "Meaningful test descriptions",
        "Proper mocking strategies",
        "Grid components use size prop (not item)"
      ],
      "dependsOn": [
        "T-006"
      ],
      "timeoutSeconds": 300,
      "priority": "high",
      "status": "PENDING"
    },
    {
      "taskId": "T-008",
      "role": "coder-agent",
      "description": "Fix failing tests and improve coverage based on T-007 review",
      "filesAffected": [],
      "inputs": {
        "reviewFeedback": "From T-007"
      },
      "successCriteria": [
        "All tests pass",
        "TypeScript errors resolved",
        "Coverage improved to >= 98%"
      ],
      "dependsOn": [
        "T-007"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "PENDING"
    },
    {
      "taskId": "T-009",
      "role": "tester",
      "description": "Verify final test suite passes with 98% coverage",
      "filesAffected": [
        "coverage/"
      ],
      "inputs": {
        "command": "pnpm test:coverage",
        "targetCoverage": "98%"
      },
      "successCriteria": [
        "All tests pass",
        "Coverage >= 98%",
        "No TypeScript errors in codebase",
        "pnpm type:check passes"
      ],
      "dependsOn": [
        "T-008"
      ],
      "timeoutSeconds": 600,
      "priority": "critical",
      "status": "PENDING"
    },
    {
      "taskId": "T-010",
      "role": "docs-agent",
      "description": "Update documentation with test coverage report and testing strategy",
      "filesAffected": [
        "docs/",
        "README.md",
        "AGENTS.md"
      ],
      "inputs": {
        "coverageData": "From T-009"
      },
      "successCriteria": [
        "Coverage report added to docs",
        "Testing strategy documented",
        "Contributors guide updated",
        "98% coverage achievement documented"
      ],
      "dependsOn": [
        "T-009"
      ],
      "timeoutSeconds": 300,
      "priority": "medium",
      "status": "PENDING"
    },
    {
      "taskId": "T-011",
      "role": "janitor-agent",
      "description": "Clean up temporary files and build artifacts",
      "filesAffected": [
        ".next/",
        "node_modules/.cache/",
        "*.log",
        "temp.*"
      ],
      "inputs": {
        "patterns": [
          ".next",
          "node_modules/.cache",
          "*.log",
          "temp.*"
        ]
      },
      "successCriteria": [
        "Build artifacts removed",
        "Temporary files cleaned",
        "Source code untouched",
        "Documentation preserved",
        "Test coverage reports preserved"
      ],
      "dependsOn": [
        "T-010"
      ],
      "timeoutSeconds": 180,
      "priority": "low",
      "status": "PENDING"
    },
    {
      "taskId": "T-012",
      "role": "reviewer",
      "description": "Final code review and quality gate before completion",
      "filesAffected": [
        "src/",
        "__tests__/"
      ],
      "inputs": {
        "standards": [
          "AGENTS.md",
          "TypeScript strict mode",
          "ESLint rules",
          "98% coverage"
        ]
      },
      "successCriteria": [
        "pnpm type:check passes with 0 errors",
        "pnpm lint passes with 0 errors",
        "Coverage >= 98% verified",
        "No console.errors or debugger statements in production code"
      ],
      "dependsOn": [
        "T-011"
      ],
      "timeoutSeconds": 300,
      "priority": "critical",
      "status": "PENDING"
    }
  ],
  "taskDependencies": {
    "T-002": [
      "T-001"
    ],
    "T-003": [
      "T-001"
    ],
    "T-004": [
      "T-001"
    ],
    "T-005": [
      "T-001"
    ],
    "T-006": [
      "T-002",
      "T-003",
      "T-004",
      "T-005"
    ],
    "T-007": [
      "T-006"
    ],
    "T-008": [
      "T-007"
    ],
    "T-009": [
      "T-008"
    ],
    "T-010": [
      "T-009"
    ],
    "T-011": [
      "T-010"
    ],
    "T-012": [
      "T-011"
    ]
  },
  "createdAt": "2026-01-01T10:45:00Z",
  "estimatedDurationSeconds": 5400
}